[
  {
    "id": 1,
    "priority": 1,
    "action": {
      "type": "modifyHeaders",
      "requestHeaders": [{ "header": "Cookie", "operation": "remove" }]
    },
    "condition": {
      "urlFilter": "|https://www.google.com/search?",
      "resourceTypes": ["main_frame", "sub_frame", "xmlhttprequest", "other"]
    }
  },
  {
    "id": 2,
    "priority": 1,
    "action": {
      "type": "modifyHeaders",
      "requestHeaders": [{ "header": "Cookie", "operation": "remove" }]
    },
    "condition": {
      "urlFilter": "|https://google.com/search?",
      "resourceTypes": ["main_frame", "sub_frame", "xmlhttprequest", "other"]
    }
  },

  {
    "id": 3,
    "priority": 3,
    "action": {
      "type": "redirect",
      "redirect": { "regexSubstitution": "https://www.google.com/search?q=\\1&tbm=\\2" }
    },
    "condition": {
      "regexFilter": "^https://(?:www\\.)?google\\.com/search\\?q=([^&#]*)&tbm=([^&#]*)&(?:rlz|oq|aqs)=[^#]*$",
      "resourceTypes": ["main_frame"]
    }
  },

  {
    "id": 4,
    "priority": 3,
    "action": {
      "type": "redirect",
      "redirect": { "regexSubstitution": "https://www.google.com/search?q=\\1&udm=\\2" }
    },
    "condition": {
      "regexFilter": "^https://(?:www\\.)?google\\.com/search\\?q=([^&#]*)&udm=([^&#]*)&(?:rlz|oq|aqs)=[^#]*$",
      "resourceTypes": ["main_frame"]
    }
  },

  {
    "id": 5,
    "priority": 2,
    "action": {
      "type": "redirect",
      "redirect": { "regexSubstitution": "https://www.google.com/search?q=\\1" }
    },
    "condition": {
      "regexFilter": "^https://(?:www\\.)?google\\.com/search\\?q=([^&#]*)&(?:rlz|oq|aqs)=[^#]*$",
      "resourceTypes": ["main_frame"]
    }
  }
]
